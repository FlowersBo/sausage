<!--pages/shopping_cart/shopping_cart.wxml-->
<!-- 物品展示 -->
<view class="container">
  <view class="address"
    style="background: #eee;width: 97%;margin: 20rpx auto;padding: 30rpx;box-sizing: border-box;border-radius: 10rpx;"
    bindtap="gotoAddress">
    <view style="font-weight: bold;font-size: 32rpx;margin-bottom: 20rpx;">北京温榆河分仓</view>
    <view style="font-size: 28rpx;">北京市朝阳区温榆河公园北区小河边上大柳树旁边</view>
  </view>
  <view class="section section-good">
    <checkbox-group>
      <view class="good" wx:for="{{cartGoodsList}}" wx:key="index" wx:for-item="goods">
        <label class="checkbox" bindtap="bindCheckboxChange" data-index="{{index}}">
          <checkbox checked="{{goods.isChecked}}" hidden="hidden" />
          <icon type="circle" size="23" wx:if="{{!goods.isChecked}}"></icon>
          <icon type="success" size="23" wx:if="{{goods.isChecked}}"></icon>
        </label>
        <image class="cover" src="{{goods.goodsPic}}"></image>
        <view class="content">
          <view class="text name">{{goods.goodsName}}</view>
          <view class="text specifications">{{goods.quantity}}箱</view>
          <view class="text price">
            <text>¥{{goods.tradePrice}}</text>
            <!-- <text>¥{{goods.retailPrice}}</text> -->
          </view>
        </view>
        <view class="stepper">
          <view class="subtract" data-index="{{index}}" catchtap="bindReduceGoods">-</view>
          <input class="count" value="{{goods.quantity}}" disabled type="number" confirm-type="done"
            bindconfirm="bindChangeGoodsNum" data-id="{{goods.id}}" />
          <view class="add" data-index="{{index}}" catchtap="bindAddGoods">+</view>
        </view>
        <!-- <view data-index="{{index}}" class="inner del" bindtap="bindDeleteGoods">删除</view> -->
      </view>
    </checkbox-group>
  </view>
  <view class="section-bottom">
    <checkbox-group bindchange="bindSelectAllGoods">
      <label class="checkbox-allcheck">
        <checkbox checked="{{isSelectAllGoods}}" hidden="hidden" />
        <icon type="circle" size="23" wx:if="{{!isSelectAllGoods}}"></icon>
        <icon type="success" size="23" wx:if="{{isSelectAllGoods}}"></icon>
        <text class="check-all-text">全选</text>
      </label>
    </checkbox-group>
    <view class="total">
      <view class="totalPrice">合计：
        <text>¥{{cartSettlement.goodsOutOfPocketExpenses}}</text>
      </view>
      <!-- <view class="totalPrice">立省：
        <text>¥{{cartSettlement.economize}}</text>
      </view> -->
    </view>

    <view class="btn {{cartSettlement.goodsCount > 0 ? 'btn-primary': 'btn-default'}}"
      url="../confirmation_order/confirmation_order" bindtap="bindSettlementMoney">
      去结算({{cartSettlement.goodsCount}})
      <!--({{cartSettlement.moneyPaid}})-->
    </view>

  </view>
</view>